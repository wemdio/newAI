# üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Timeweb Cloud

## üìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–µ–ø–ª–æ—é Frontend –∏ Backend

---

## ‚öôÔ∏è –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

### 1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã

```bash
git add -A
git commit -m "Prepare for deployment"
git push origin main
```

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend –Ω–∞ Timeweb Cloud

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å Backend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

1. –ó–∞–π–¥–∏—Ç–µ –≤ **Timeweb Cloud Dashboard**
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è"** ‚Üí **"–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"**
3. –í—ã–±–µ—Ä–∏—Ç–µ **Backend** —Ç–∏–ø
4. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **–ù–∞–∑–≤–∞–Ω–∏–µ**: `telegram-lead-scanner-backend`
   - **–¢–∏–ø**: Backend
   - **–§—Ä–µ–π–º–≤–æ—Ä–∫**: Docker
   - **Dockerfile**: `Dockerfile` (–∏–∑ –∫–æ—Ä–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
   - **–ü–æ—Ä—Ç**: `3000`
   - **–í–µ—Ç–∫–∞**: `main`
   - **–î–æ–º–µ–Ω**: `wemdio-parserandscanner-40d8.twc1.net` (–∏–ª–∏ —Å–≤–æ–π)

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí **"–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è"**, –¥–æ–±–∞–≤—å—Ç–µ:

```env
# Supabase
SUPABASE_URL=https://liavhyhyzqadilfmicba.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_KEY=your-supabase-service-key

# OpenRouter (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —á–µ—Ä–µ–∑ UI)
OPENROUTER_API_KEY=sk-or-your-key
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
AI_MODEL=google/gemini-2.0-flash-001

# Telegram Bot
TELEGRAM_BOT_TOKEN=your-telegram-bot-token

# Server
PORT=3000
NODE_ENV=production

# Security
JWT_SECRET=your-random-32-char-string
ENCRYPTION_KEY=another-random-32-char-string
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–µ–ø–ª–æ–π –∏–∑ GitHub

1. **VCS –ø—Ä–æ–≤–∞–π–¥–µ—Ä**: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**: `wemdio/telegramAI` (–∏–ª–∏ –≤–∞—à)
3. **–í–µ—Ç–∫–∞**: `main`
4. **Dockerfile –ø—É—Ç—å**: `Dockerfile` (–∏–∑ –∫–æ—Ä–Ω—è)
5. **Build –∫–æ–º–∞–Ω–¥–∞**: (–æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º, Docker —Å–∞–º —Å–æ–±–µ—Ä–µ—Ç)
6. **Run –∫–æ–º–∞–Ω–¥–∞**: (–æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º, CMD –∏–∑ Dockerfile)

---

## üé® –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Frontend –Ω–∞ Timeweb Cloud

### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å Frontend –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

1. **Timeweb Cloud Dashboard** ‚Üí **"–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è"** ‚Üí **"–°–æ–∑–¥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"**
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
   - **–ù–∞–∑–≤–∞–Ω–∏–µ**: `telegram-lead-scanner-frontend`
   - **–¢–∏–ø**: Frontend
   - **–§—Ä–µ–π–º–≤–æ—Ä–∫**: Docker
   - **Dockerfile**: `Dockerfile.frontend` (–∏–∑ –∫–æ—Ä–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
   - **–ü–æ—Ä—Ç**: `80`
   - **–í–µ—Ç–∫–∞**: `main`
   - **–î–æ–º–µ–Ω**: `your-frontend-domain.twc1.net`

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å Supabase URL/–∫–ª—é—á–∏:

```env
VITE_SUPABASE_URL=https://liavhyhyzqadilfmicba.supabase.co
VITE_SUPABASE_ANON_KEY=your-supabase-anon-key
VITE_API_URL=https://wemdio-parserandscanner-40d8.twc1.net/api
```

**–í–∞–∂–Ω–æ:** –≠—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã **–î–û** build, –∏–Ω–∞—á–µ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–∑ –∫–æ–¥–∞.

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–µ–ø–ª–æ–π –∏–∑ GitHub

1. **VCS –ø—Ä–æ–≤–∞–π–¥–µ—Ä**: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. **–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**: `wemdio/telegramAI` (–∏–ª–∏ –≤–∞—à)
3. **–í–µ—Ç–∫–∞**: `main`
4. **Dockerfile –ø—É—Ç—å**: `Dockerfile.frontend`
5. **Build –∫–æ–º–∞–Ω–¥–∞**: (–æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º)
6. **Run –∫–æ–º–∞–Ω–¥–∞**: (–æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º)

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ `main` –≤–µ—Ç–∫—É:

1. **Timeweb –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏**:
   - –ö–ª–æ–Ω–∏—Ä—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   - –°–æ–±–∏—Ä–∞–µ—Ç Docker –æ–±—Ä–∞–∑
   - –î–µ–ø–ª–æ–∏—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ–ø–ª–æ—è**:
   - Backend: `https://wemdio-parserandscanner-40d8.twc1.net/health`
   - Frontend: `https://your-frontend-domain.twc1.net`

---

## üìù –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

### Backend:

```bash
# Health check
curl https://wemdio-parserandscanner-40d8.twc1.net/health

# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:
# {
#   "status": "healthy",
#   "database": "healthy",
#   ...
# }
```

### Frontend:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://your-frontend-domain.twc1.net`
2. –î–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç—å—Å—è **—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞**
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏ —Å —Ç–µ—Å—Ç–æ–≤—ã–º –∞–∫–∫–∞—É–Ω—Ç–æ–º

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 502

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `PORT=3000` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Timeweb Dashboard
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Dockerfile –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### –ü—Ä–æ–±–ª–µ–º–∞: Frontend –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ Backend

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `VITE_API_URL` —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤ frontend –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
2. –ò–ª–∏ —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ `frontend/src/services/api.js` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è URL:
   ```javascript
   if (window.location.hostname.includes('twc1.net')) {
     return 'https://wemdio-parserandscanner-40d8.twc1.net/api';
   }
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: CORS –æ—à–∏–±–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ `backend/src/api/server.js` CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
   ```javascript
   app.use(cors({
     origin: '*',
     methods: ['GET', 'POST', 'PUT', 'DELETE', 'OPTIONS'],
     allowedHeaders: ['Content-Type', 'Authorization', 'x-user-id']
   }));
   ```

### –ü—Ä–æ–±–ª–µ–º–∞: Frontend –Ω–µ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `frontend/package.json` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `@supabase/supabase-js` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–±–æ—Ä–∫–∏ –≤ Timeweb Dashboard

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –í–∞–∂–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—å –≤ Git!):

- `SUPABASE_SERVICE_KEY` - —Ç–æ–ª—å–∫–æ –≤ Timeweb –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- `TELEGRAM_BOT_TOKEN` - —Ç–æ–ª—å–∫–æ –≤ Timeweb –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- `JWT_SECRET` - —Ç–æ–ª—å–∫–æ –≤ Timeweb –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- `ENCRYPTION_KEY` - —Ç–æ–ª—å–∫–æ –≤ Timeweb –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### –ü—É–±–ª–∏—á–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (–º–æ–∂–Ω–æ –≤ –∫–æ–¥–µ):

- `SUPABASE_URL` - –ø—É–±–ª–∏—á–Ω—ã–π URL
- `SUPABASE_ANON_KEY` - –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω RLS)

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ Backend:

1. **Timeweb Dashboard** ‚Üí **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** ‚Üí **–õ–æ–≥–∏**
2. –ò–ª–∏ —á–µ—Ä–µ–∑ API: `GET /api/scanner/status`

### –õ–æ–≥–∏ Frontend:

1. **Timeweb Dashboard** ‚Üí **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** ‚Üí **–õ–æ–≥–∏**
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)

---

## üéØ –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

- [ ] –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã –∏ –∑–∞–ø—É—à–µ–Ω—ã –≤ GitHub
- [ ] Backend –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ Timeweb
- [ ] Frontend –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã)
- [ ] Dockerfile –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ (–ø—Ä–æ–≤–µ—Ä–µ–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ)
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç —Å–æ–∑–¥–∞–Ω –≤ Supabase
- [ ] –ü—É–±–ª–∏—á–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ—Ç–∫–ª—é—á–µ–Ω–∞ –≤ Supabase
- [ ] Telegram Bot Token –≤–∞–ª–∏–¥–Ω—ã–π
- [ ] Backend URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ frontend –∫–æ–¥–µ

---

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:

1. **Backend** –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ: `https://wemdio-parserandscanner-40d8.twc1.net`
2. **Frontend** –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ: `https://your-frontend-domain.twc1.net`
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π** –ø—Ä–∏ –∫–∞–∂–¥–æ–º push –≤ `main`

–£–¥–∞—á–∏! üöÄ

